(function(e){function t(t){for(var a,c,o=t[0],i=t[1],l=t[2],d=0,m=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},s=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=i;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"43b3":function(e,t,n){e.exports=n.p+"img/gh-logo.ef7a02b6.png"},"4d00":function(e,t,n){"use strict";n("c92e")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(e,t,n,r,s,c){var o=Object(a["w"])("Header"),i=Object(a["w"])("router-view");return Object(a["p"])(),Object(a["d"])(a["a"],null,[e.$route.meta.hideNavigation?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])(o,{key:0})),Object(a["g"])(i)],64)}var s=Object(a["F"])("data-v-5595e548");Object(a["s"])("data-v-5595e548");var c={class:"navbar navbar-expand-sm navbar-light bg-light w-100"},o={class:"container-fluid"},i=Object(a["f"])("GitHub-Tool"),l={class:"navbar-text"},u=Object(a["g"])("span",null,"Eingeloggt als:",-1);Object(a["q"])();var d=s((function(e,t,n,r,d,m){var b=Object(a["w"])("router-link");return Object(a["p"])(),Object(a["d"])("header",null,[Object(a["g"])("nav",c,[Object(a["g"])("div",o,[Object(a["g"])(b,{to:{name:"Home"},class:"navbar-brand"},{default:s((function(){return[i]})),_:1}),Object(a["g"])("div",l,[u,Object(a["g"])("img",{src:d.avatar_url,width:"40",height:"40",class:"ms-2 me-2"},null,8,["src"]),Object(a["g"])("span",null,Object(a["y"])(d.login),1)])])])])})),m={name:"Header",data:function(){return{avatar_url:"",login:""}},mounted:function(){this.avatar_url=sessionStorage.getItem("avatar_url"),this.login=sessionStorage.getItem("login")}};n("b7bc");m.render=d,m.__scopeId="data-v-5595e548";var b=m,p={name:"App",components:{Header:b}};n("4d00");p.render=r;var g=p,f=n("1da1"),O=(n("96cf"),n("caad"),n("2532"),n("6c02")),h=Object(a["F"])("data-v-50ec911d");Object(a["s"])("data-v-50ec911d");var v={class:"home"};Object(a["q"])();var j=h((function(e,t,n,r,s,c){var o=Object(a["w"])("OrgList");return Object(a["p"])(),Object(a["d"])("div",v,[Object(a["g"])(o)])})),y=Object(a["F"])("data-v-6e57e2e1");Object(a["s"])("data-v-6e57e2e1");var w={class:"container-fluid row gy-3"},T={class:""},k={key:0},x={key:1,class:"list-group"},I={class:"row"},N={class:"col text-start"},S={class:"col text-end"},R={class:"d-grid gap-2 d-flex justify-content-end"},_=Object(a["g"])("span",null,"+ Onboarding",-1);Object(a["q"])();var C=y((function(e,t,n,r,s,c){return Object(a["p"])(),Object(a["d"])("div",w,[Object(a["g"])("div",T,[e.loading?(Object(a["p"])(),Object(a["d"])("div",k,"loading...")):(Object(a["p"])(),Object(a["d"])("ul",x,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(e.orgs,(function(e){return Object(a["p"])(),Object(a["d"])("li",{class:"list-group-item",key:e.id},[Object(a["g"])("div",I,[Object(a["g"])("div",N,[Object(a["g"])("img",{src:e.avatar_url,width:"40",height:"40",class:"img-fluid rounded float-start me-3",style:{"max-width":"18rem"}},null,8,["src"]),Object(a["g"])("span",null,Object(a["y"])(e.login),1)]),Object(a["g"])("div",S,[Object(a["g"])("div",R,[Object(a["g"])("button",{class:"btn btn-outline-secondary btn-sm",onClick:function(t){return c.goToCreateProject(e.login)}},"Projekt erstellen",8,["onClick"]),Object(a["g"])("button",{class:"btn btn-outline-primary btn-sm",onClick:function(t){return c.goToOnboarding(e.login)}},[_],8,["onClick"])])])])])})),128))]))])])})),U=(n("d3b7"),n("d4ec")),P=n("bee2"),E=n("bc3a"),M=n.n(E),A="https://api.github.com",L=function(){function e(){Object(U["a"])(this,e)}return Object(P["a"])(e,[{key:"getCurrentUser",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M.a.get(A+"/user");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUserOrgs",value:function(){return M.a.get(A+"/user/orgs").then((function(e){return console.log("Erfolg! ",e),e})).catch((function(e){console.warn("Fehler! ",e)}))}},{key:"getUser",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return M.a.get(A+"/users/"+e,{handleError:t}).then((function(e){return console.log("Got the searched user: ",e),e}))}},{key:"inviteUser",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M()({method:"post",url:A+"/orgs/"+t+"/invitations",data:{invitee_id:n,team_ids:a},handleError:!1});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"getTeam",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return M.a.get(A+"/orgs/"+e+"/teams/"+t,{handleError:n}).then((function(e){return e}))}},{key:"createTeam",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Trying to create team: "+t+" in org: "+n+" under Team: "+a),e.next=3,M()({method:"post",url:A+"/orgs/"+n+"/teams",data:{name:t,parent_team_id:a,privacy:"closed"}});case 3:return r=e.sent,console.log("Created a team: ",r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"listTeams",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M()({method:"get",url:A+"/orgs/"+t+"/teams",params:{per_page:100}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateTeamMembership",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Trying to update team membership for: "+a+" to: "+r),e.next=3,M()({method:"put",url:A+"/orgs/"+t+"/teams/"+n+"/memberships/"+a,data:{role:r}});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));function t(t,n,a,r){return e.apply(this,arguments)}return t}()},{key:"createRepo",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Trying to create a repo: "+n+" in org: "+t+" for team: "+a),e.next=3,M()({method:"post",url:A+"/orgs/"+t+"/repos",data:{name:n,private:!0,team_id:a}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"replaceAllRepositoryTopics",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Trying to replace all Repo Topics for: "+t+"/"+n+" with the topics: ",a),e.next=3,M()({method:"put",url:A+"/repos/"+t+"/"+n+"/topics",data:{names:a},headers:{Accept:"application/vnd.github.mercy-preview+json"}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));function t(t,n,a){return e.apply(this,arguments)}return t}()}]),e}(),H=new L,F={name:"OrgList",data:function(){return{orgs:[],loading:!0}},mounted:function(){var e=this;H.getUserOrgs().then((function(t){e.orgs=t.data})).finally((function(){return e.loading=!1}))},methods:{goToOnboarding:function(e){console.log("GO TO ONBOARDING WITH ORG: "+e),this.$router.push({name:"Onboarding",params:{selectOrgName:e}})},goToCreateProject:function(e){this.$router.push({name:"CreateProject",params:{orgName:e}})}}};F.render=C,F.__scopeId="data-v-6e57e2e1";var G=F,V={name:"Home",data:function(){return{orgs:[]}},components:{OrgList:G}};n("6355");V.render=j,V.__scopeId="data-v-50ec911d";var q=V,z=n("43b3"),$=n.n(z),B=Object(a["F"])("data-v-828ea6fe");Object(a["s"])("data-v-828ea6fe");var D={class:"h-100 d-flex justify-content-center align-items-center loginbg"},J={class:"card shadow-lg rcorners"},K=Object(a["g"])("div",{class:"text-center p-3"},[Object(a["g"])("img",{alt:"GitHub logo",class:"h-30",src:$.a})],-1),W={class:"card-body"},Q=Object(a["g"])("div",{class:"card-title text-center mt-3",style:{"max-width":"18rem"}},[Object(a["g"])("h5",null,"GitHub Frontend")],-1),X={class:"mt-5"},Y=Object(a["g"])("p",null,[Object(a["g"])("a",{href:"https://github.com/settings/tokens",target:"_blank",class:"small"},"https://github.com/settings/tokens")],-1);Object(a["q"])();var Z=B((function(e,t,n,r,s,c){return Object(a["p"])(),Object(a["d"])("div",D,[Object(a["g"])("div",J,[K,Object(a["g"])("div",W,[Q,Object(a["g"])("p",X,[Object(a["E"])(Object(a["g"])("input",{type:"text",class:"rounded-pill","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.patoken=e})},null,512),[[a["C"],s.patoken]])]),Object(a["g"])("button",{onClick:t[2]||(t[2]=function(){return c.persist&&c.persist.apply(c,arguments)}),class:"btn btn-primary rounded-pill"},"PA-Token eingeben"),Y])])])})),ee=(n("6705"),n("2685")),te=n.n(ee),ne={error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Fehler";return te.a.error({title:t,message:e,position:"bottomLeft",timeout:!1})},success:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success";return te.a.success({title:t,message:e,position:"bottomLeft"})},apiSuccess:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Success";ne.success(t+" status: "+e.status,n)},apiError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Fehler";e.response?e.response.data.message?ne.error(e.response.status+":"+e.response.data.message,t):ne.error("GitHub-API responded with an error",t):e.request?ne.error("Failed request",t):ne.error(e.status)}},ae=ne,re={data:function(){return{patoken:""}},methods:{persist:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,sessionStorage.patoken=e.patoken,t.next=4,H.getCurrentUser();case 4:n=t.sent,200==n.status&&(sessionStorage.avatar_url=n.data.avatar_url,sessionStorage.login=n.data.login,ae.apiSuccess(n,"Personal-Access-Token validiert")),e.$router.push({name:"Home"}),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),sessionStorage.removeItem("patoken"),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}};n("f262");re.render=Z,re.__scopeId="data-v-828ea6fe";var se=re,ce={class:"container"},oe={class:"row g-3"},ie={class:"col"},le=Object(a["g"])("h3",null,"Nutzer eingeben:",-1),ue=Object(a["g"])("div",{class:"col-12 mt-3"},[Object(a["g"])("h3",null,"Nutzer in eine Organisation einladen:")],-1),de={class:"col-6 text-start"},me=Object(a["g"])("label",{for:"organizations",class:"small"},"Organisationen:",-1),be=Object(a["g"])("option",{disabled:"",selected:"",value:""},"Organisation auswählen",-1),pe={class:"col-6 d-flex justify-content-center align-items-center"},ge={class:"form-check form-switch"},fe=Object(a["g"])("label",{for:"inviteToTeamSwitch",class:"form-check-label"}," In Teams einladen",-1),Oe={key:0,class:"col-12"},he=Object(a["g"])("h3",null,"Teams eingeben:",-1),ve={class:"rounded border"},je={class:"list-group"},ye={class:"row"},we={class:"col-8 text-start"},Te={class:"col text-end"},ke={class:"list-group-item"},xe={class:"col"};function Ie(e,t,n,r,s,c){var o=Object(a["w"])("UserList"),i=Object(a["w"])("InputModal");return Object(a["p"])(),Object(a["d"])("div",ce,[Object(a["g"])("div",oe,[Object(a["g"])("div",ie,[le,Object(a["g"])(o,{onSubmitNames:c.lookUpUsers,onDeleteUser:c.deleteUser,users:s.users},null,8,["onSubmitNames","onDeleteUser","users"])]),ue,Object(a["g"])("div",de,[me,Object(a["E"])(Object(a["g"])("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.selected=e}),onChange:t[2]||(t[2]=function(){return c.emptyTeams&&c.emptyTeams.apply(c,arguments)}),"aria-label":"organizations"},[be,(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(s.orgs,(function(e){return Object(a["p"])(),Object(a["d"])("option",{key:e.id,value:e.login},Object(a["y"])(e.login),9,["value"])})),128))],544),[[a["B"],s.selected]])]),Object(a["g"])("div",pe,[Object(a["g"])("div",ge,[Object(a["E"])(Object(a["g"])("input",{class:"form-check-input",type:"checkbox",id:"inviteToTeamSwitch","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.isTeamInviteActive=e}),onChange:t[4]||(t[4]=function(){return c.emptyTeams&&c.emptyTeams.apply(c,arguments)})},null,544),[[a["A"],s.isTeamInviteActive]]),fe])]),s.isTeamInviteActive&&s.selected?(Object(a["p"])(),Object(a["d"])("div",Oe,[he,Object(a["g"])("div",ve,[Object(a["g"])("ul",je,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(s.teams,(function(e,t){return Object(a["p"])(),Object(a["d"])("li",{class:"list-group-item",key:e.id,value:t},[Object(a["g"])("div",ye,[Object(a["g"])("div",we,Object(a["y"])(e.slug),1),Object(a["g"])("div",Te,[Object(a["g"])("button",{class:"btn-close small",onClick:function(e){return c.deleteTeam(t)},"aria-label":"remove this team"},null,8,["onClick"])])])],8,["value"])})),128)),Object(a["g"])("li",ke,[Object(a["g"])("button",{class:"btn btn-outline-primary w-100","data-bs-toggle":"modal","data-bs-target":"#"+s.modalId},"+",8,["data-bs-target"])])])]),Object(a["g"])(i,{onSubmitNames:c.lookUpTeams,modalId:s.modalId,heading:"Team-Namen eingeben"},null,8,["onSubmitNames","modalId"])])):Object(a["e"])("",!0),Object(a["g"])("div",xe,[Object(a["g"])("button",{onClick:t[5]||(t[5]=function(){return c.inviteUsers&&c.inviteUsers.apply(c,arguments)}),class:"btn btn-primary"},"Einladen")])])])}n("159b"),n("ac1f"),n("1276"),n("4de4"),n("d81d"),n("498a"),n("3ca3"),n("ddb0"),n("a434");var Ne=Object(a["F"])("data-v-885aaeb8");Object(a["s"])("data-v-885aaeb8");var Se={class:"border"},Re={class:"row m-2 g-3"},_e={key:0},Ce=Object(a["g"])("span",{class:"spinner-border spinner-border-sm"},null,-1),Ue=Object(a["f"])(" Loading... "),Pe={class:"row"},Ee={class:"col"},Me={class:"col text-start"},Ae={class:"col-2 text-end"},Le=Object(a["g"])("h1",{class:"align-self-center"},"+",-1);Object(a["q"])();var He=Ne((function(e,t,n,r,s,c){var o=Object(a["w"])("InputModal");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("div",Se,[Object(a["g"])("div",Re,[n.loading?(Object(a["p"])(),Object(a["d"])("div",_e,[Ce,Ue])):(Object(a["p"])(!0),Object(a["d"])(a["a"],{key:1},Object(a["v"])(n.users,(function(e,t){return Object(a["p"])(),Object(a["d"])("div",{key:t,class:"col-6 rounded border"},[Object(a["g"])("div",Pe,[Object(a["g"])("div",Ee,[Object(a["g"])("img",{id:"pfp",src:e.avatar_url,width:"40",class:"img-fluid rounded-circle rounded float-start"},null,8,["src"])]),Object(a["g"])("div",Me,[Object(a["g"])("span",null,Object(a["y"])(e.login),1)]),Object(a["g"])("div",Ae,[Object(a["g"])("button",{class:"btn-close small",onClick:function(e){return c.deleteUser(t)},"aria-label":"remove this user"},null,8,["onClick"])])])])})),128)),Object(a["g"])("button",{class:"btn btn-outline-secondary h-100 w-100","data-bs-toggle":"modal","data-bs-target":"#"+s.modalId},[Le],8,["data-bs-target"])])]),Object(a["g"])(o,{onSubmitNames:c.submitNames,modalId:s.modalId,heading:"GH-Namen eingeben"},null,8,["onSubmitNames","modalId"])],64)})),Fe={class:"modal-dialog"},Ge={class:"modal-content"},Ve={class:"modal-header"},qe=Object(a["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ze={class:"modal-body"},$e={class:"row"},Be={class:"col-12"},De={class:"modal-footer"},Je=Object(a["g"])("div",null,"Suchen",-1);function Ke(e,t,n,r,s,c){return Object(a["p"])(),Object(a["d"])("div",{class:"modal fade",id:n.modalId,tabindex:"-1","aria-labelledby":"onboardingModalLabel","aria-hidden":"true"},[Object(a["g"])("div",Fe,[Object(a["g"])("div",Ge,[Object(a["g"])("div",Ve,[Object(a["g"])("h1",null,Object(a["y"])(n.heading),1),qe]),Object(a["g"])("div",ze,[Object(a["g"])("div",$e,[Object(a["g"])("div",Be,[Object(a["E"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.namesString=e}),name:"gh-handles",id:"handlestext",cols:"30",rows:"10"},null,512),[[a["C"],s.namesString]])])])]),Object(a["g"])("div",De,[Object(a["g"])("button",{onClick:t[2]||(t[2]=function(){return c.submitNames&&c.submitNames.apply(c,arguments)}),class:"btn btn-primary","data-bs-dismiss":"modal"},[Je])])])])],8,["id"])}var We={emits:["submitNames"],props:{heading:{type:String,default:"Names input"},modalId:{type:String,default:"defaultModalId"}},data:function(){return{namesString:""}},methods:{submitNames:function(){this.$emit("submitNames",this.namesString),this.namesString=""}}};We.render=Ke;var Qe=We,Xe={components:{InputModal:Qe},emits:["submitNames","deleteUser"],data:function(){return{modalId:"ghNamesModal"}},props:{loading:{type:Boolean,default:!1},users:Array},methods:{submitNames:function(e){this.$emit("submitNames",e),this.ghnames=""},deleteUser:function(e){this.$emit("deleteUser",e)}}};Xe.render=He,Xe.__scopeId="data-v-885aaeb8";var Ye=Xe,Ze={data:function(){return{users:[],loading:!1,orgs:[],selected:"",isTeamInviteActive:!1,teams:[],modalId:"teamNamesModal"}},props:{selectOrgName:{type:String}},components:{UserList:Ye,InputModal:Qe},mounted:function(){var e=this;H.getUserOrgs().then((function(t){e.orgs=t.data})),this.selectOrgName&&""!=this.selectOrgName&&(this.selected=this.selectOrgName)},methods:{inviteUsers:function(){var e=this,t=[];this.teams&&this.teams.forEach((function(e){console.log("inviting with teams: "+e.id),console.log(e),t.push(e.id)})),this.users.forEach((function(n){H.inviteUser(e.selected,n.id,t).then((function(e){ae.apiSuccess(e,n.login+" was invited")})).catch((function(e){ae.error(n.login+" was not invited! \n Status: "+e.response.status)}))}))},parseNames:function(e,t){this.loading=!0;var n=e,a=n.split(/\r?\n/);return a=a.map((function(e){return e.trim()})).filter((function(e){return null!=e&&""!=e})),t&&(a=a.filter((function(e){return!t.some((function(t){return t.login===e}))}))),a},lookUpUsers:function(e){var t=this,n=this.parseNames(e,this.users),a=[];n.forEach((function(e){a.push(H.getUser(e,!1).then((function(e){t.users.push(e.data)})).catch((function(t){ae.error(e+" was not found! Status: "+t.response.status)})))})),Promise.all(a).then((function(){console.log("Loading users finished!"),t.loading=!1}))},lookUpTeams:function(e){var t=this;if(this.selected&&this.isTeamInviteActive){var n=this.parseNames(e,this.teams),a=[];n.forEach((function(e){a.push(H.getTeam(t.selected,e,!1).then((function(e){t.teams.push(e.data)})).catch((function(t){ae.error("Team "+e+" was no found! Status: "+t.response.status)})))})),Promise.all(a).then((function(){console.log("Loading teams finished!")}))}},deleteTeam:function(e){this.teams.splice(e,1)},deleteUser:function(e){this.users.splice(e,1)},emptyTeams:function(){this.teams.length=0}}};Ze.render=Ie;var et=Ze,tt=(n("b0c0"),Object(a["F"])("data-v-827f3606"));Object(a["s"])("data-v-827f3606");var nt={class:"container h-100"},at=Object(a["g"])("option",{disabled:"",selected:"",value:""},"Organisation auswählen",-1),rt=Object(a["g"])("div",{class:"text-start"},[Object(a["g"])("label",{for:"vorschau"},"Vorschau Teams:")],-1),st={id:"preview",class:"row round border"},ct={id:"paren_team_input",class:"col mb-3 mt-3"},ot={class:"row"},it={class:"col-auto text-start"},lt=Object(a["g"])("label",{class:"form-label"},"Übergeordnetes Team:",-1),ut={class:"col-auto d-flex align-items-end"},dt={class:"col-auto"},mt={class:"form-check form-switch"},bt=Object(a["g"])("label",{for:"inviteToTeamSwitch",class:"form-check-label"}," Repositories anlegen",-1),pt={class:"col-12"},gt={id:"teamsList",class:"list-group"},ft={class:"row"},Ot={class:"col-12 d-flex w-100 justify-content-between"},ht={key:0,class:"text-danger"},vt={class:"col-12 col-md-6"},jt=Object(a["g"])("label",{for:"memberlist",class:"text-start"},"Mitglieder:",-1),yt={id:"memberlist",class:"list-group"},wt={class:"row"},Tt={class:"col text-start"},kt={class:"col text-end"},xt={class:"list-group-item"},It={class:"col-12 col-md-6 mt-2 mt-md-0"},Nt=Object(a["g"])("label",{for:"repolist",class:"text-start"},"Repositories:",-1),St={id:"reporist",class:"list-group"},Rt={class:"row"},_t={class:"col text-start"},Ct={class:"col text-end"},Ut={class:"col-12 d-flex flex-wrap"},Pt={id:"addRepo",class:"list-group-item"},Et={class:"text-center"},Mt=Object(a["g"])("label",{for:"topic_input"},"Topics hinzufügen:",-1),At={class:"list-group-item p-1"},Lt={class:"mt-2"};Object(a["q"])();var Ht=tt((function(e,t,n,r,s,c){var o=Object(a["w"])("InputModal");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("div",nt,[Object(a["E"])(Object(a["g"])("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.selectedOrg=e}),"aria-label":"organizations"},[at,(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(s.orgs,(function(e){return Object(a["p"])(),Object(a["d"])("option",{key:e.id,value:e.login},Object(a["y"])(e.login),9,["value"])})),128))],512),[[a["B"],s.selectedOrg]]),rt,Object(a["g"])("div",st,[Object(a["g"])("div",ct,[Object(a["g"])("div",ot,[Object(a["g"])("div",it,[lt,s.parentTeam?(Object(a["p"])(),Object(a["d"])("a",{key:1,href:s.parentTeam.html_url,target:"_blank",class:"btn btn-light w-100 text-start"},Object(a["y"])(s.parentTeam.slug),9,["href"])):Object(a["E"])((Object(a["p"])(),Object(a["d"])("input",{key:0,id:"parentTeam","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.parentTeamString=e}),type:"text",class:"form-control",placeholder:"team_slug  (optional)"},null,512)),[[a["C"],s.parentTeamString]])]),Object(a["g"])("div",ut,[null===s.parentTeam?(Object(a["p"])(),Object(a["d"])("button",{key:0,class:"btn btn-outline-primary",onClick:t[3]||(t[3]=function(e){return c.lookUpParentTeam(s.parentTeamString)})},"Suchen")):(Object(a["p"])(),Object(a["d"])("button",{key:1,class:"btn btn-close",onClick:t[4]||(t[4]=function(){return c.removeParentTeam&&c.removeParentTeam.apply(c,arguments)})}))]),Object(a["g"])("div",dt,[Object(a["g"])("div",mt,[Object(a["E"])(Object(a["g"])("input",{class:"form-check-input",type:"checkbox",id:"inviteToTeamSwitch","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.generateRepos=e})},null,512),[[a["A"],s.generateRepos]]),bt])])])]),Object(a["g"])("div",pt,[Object(a["g"])("ul",gt,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(s.teams,(function(e,t){return Object(a["p"])(),Object(a["d"])("li",{class:["list-group-item text-start border-2",{"status-success":e.isNameAvailable,"status-warning":!e.isNameAvailable}],key:t,value:t},[Object(a["g"])("div",ft,[Object(a["g"])("div",Ot,[Object(a["g"])("h5",null,Object(a["y"])(s.teamNamePrefix+e.name),1),e.isNameAvailable?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("span",ht,"schon vorhanden")),Object(a["g"])("button",{class:"btn-close small",onClick:function(e){return c.deleteTeam(t)},"aria-label":"remove this team"},null,8,["onClick"])]),Object(a["g"])("div",vt,[jt,Object(a["g"])("ul",yt,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(e.members,(function(e,n){return Object(a["p"])(),Object(a["d"])("li",{class:"list-group-item",key:n},[Object(a["g"])("div",wt,[Object(a["g"])("div",Tt,[Object(a["g"])("span",null,Object(a["y"])(e),1)]),Object(a["g"])("div",kt,[Object(a["g"])("button",{class:"btn-close small",onClick:function(e){return c.deleteMemberInTeam(n,t)},"aria-label":"remove this member"},null,8,["onClick"])])])])})),128)),Object(a["g"])("li",xt,[Object(a["g"])("button",{class:"btn btn-outline-secondary w-100","data-bs-toggle":"modal","data-bs-target":"#"+s.memberInputModalId+t},"+",8,["data-bs-target"])])])]),Object(a["g"])("div",It,[Nt,Object(a["g"])("ul",St,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(s.teams[t].repos,(function(e,n){return Object(a["p"])(),Object(a["d"])("li",{class:"list-group-item",key:n},[Object(a["g"])("div",Rt,[Object(a["g"])("div",_t,[Object(a["g"])("span",null,Object(a["y"])(s.teamNamePrefix+e.name),1)]),Object(a["g"])("div",Ct,[Object(a["g"])("button",{class:"btn-close small",onClick:function(e){return c.deleteRepoInTeam(n,t)},"aria-label":"remove this repo"},null,8,["onClick"])]),Object(a["g"])("div",Ut,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(s.teams[t].topics,(function(e,n){return Object(a["p"])(),Object(a["d"])("div",{key:n,class:"badge rounded-pill bg-light text-dark"},[Object(a["g"])("span",null,Object(a["y"])(e),1),Object(a["g"])("button",{class:"btn-close small",onClick:function(e){return c.deleteTopicInTeam(n,t)},"aria-label":"remove this topic"},null,8,["onClick"])])})),128)),Object(a["g"])("button",{"data-bs-toggle":"collapse","data-bs-target":"#collapse-"+t,class:"badge btn btn-light rounded-pill text-dark"},"+",8,["data-bs-target"])])])])})),128)),Object(a["g"])("li",Pt,[Object(a["g"])("button",{class:"btn btn-outline-secondary w-100",onClick:function(e){return c.addRepoPreview(t)}},"+",8,["onClick"])])])]),Object(a["g"])("div",Et,[Object(a["g"])(o,{onSubmitNames:function(e){return c.createMemberPreviews(t,e)},modalId:s.memberInputModalId+t,heading:"GH-Namen eingeben"},null,8,["onSubmitNames","modalId"])]),Object(a["g"])("div",{id:"collapse-"+t,class:"col collapse mt-1"},[Mt,Object(a["E"])(Object(a["g"])("input",{id:"topic_input_"+t,type:"text","onUpdate:modelValue":function(t){return e.topicInput=t},class:"form-control",onInput:function(e){return c.addTopicsToTeam(t)}},null,40,["id","onUpdate:modelValue","onInput"]),[[a["C"],e.topicInput]])],8,["id"])])],10,["value"])})),128)),Object(a["g"])("li",At,[Object(a["g"])("button",{class:"btn btn-outline-primary w-100","data-bs-toggle":"modal","data-bs-target":"#"+s.teamInputModalId},"+",8,["data-bs-target"])])])]),Object(a["g"])("div",Lt,[Object(a["g"])("button",{class:"btn btn-primary",onClick:t[6]||(t[6]=function(){return c.createTeams&&c.createTeams.apply(c,arguments)})},"Teams erstellen")])])]),Object(a["g"])(o,{onSubmitNames:c.createTeamPreviews,modalId:s.teamInputModalId,heading:"Teams eingeben"},null,8,["onSubmitNames","modalId"])],64)})),Ft=(n("5319"),n("99af"),{data:function(){return{teamInputModalId:"teamInputModal",memberInputModalId:"memberInputModal",teams:[],parentTeamString:"",parentTeam:null,generateRepos:!0,teamNamePrefix:"",createdTeams:[],orgs:[],selectedOrg:""}},props:{orgName:String},components:{InputModal:Qe},mounted:function(){var e=this;H.getUserOrgs().then((function(t){e.orgs=t.data})),this.orgName&&""!=this.orgName&&(this.selectedOrg=this.orgName)},methods:{parseTeamInput:function(e){var t=e.split(/\r?\n/);return t=t.filter((function(e){return""!=e.trim()})).map((function(e){var t={},n=e.trim(),a=n.substr(0,n.indexOf(":")).trim();t.name=a.replace(" ","-");var r=n.substr(n.indexOf(":")+1,n.length);return t.members=r.split(",").filter((function(e){return""!=e.trim()})).map((function(e){return e.trim()})),t})),console.log("TEAMS length: "+t.length),console.log(t),t},parseMemberInput:function(e){var t=this,n=e.split(/\r?\n/);return n=n.map((function(e){return e.trim()})).filter((function(e){return null!=e&&""!=e})),this.teams&&(n=n.filter((function(e){return!t.teams.some((function(t){return t.members.some((function(t){return t===e}))}))}))),n},createTeamPreviews:function(e){var t=this,n=this.parseTeamInput(e);n.forEach((function(e){var n="";n=e.name?e.name:"gruppe-"+t.teams.length,t.teams.push({name:n,members:e.members,repos:t.generateRepos?[{name:n+"-repo-0"}]:[]})})),this.checkTeamNames()},createMemberPreviews:function(e,t){var n=this,a=this.parseMemberInput(t);a.forEach((function(t){n.teams[e].members.push(t)}))},lookUpParentTeam:function(e){var t=this;H.getTeam(this.selectedOrg,e).then((function(e){console.log("Got parent team: ",e),t.parentTeam=e.data,t.teamNamePrefix=t.parentTeam.slug+"-",t.checkTeamNames()}))},removeParentTeam:function(){this.parentTeam=null,this.teamNamePrefix="",this.checkTeamNames()},deleteTeam:function(e){this.teams.splice(e,1)},deleteMemberInTeam:function(e,t){this.teams[t].members.splice(e,1)},deleteRepoInTeam:function(e,t){this.teams[t].repos.splice(e,1)},addRepoPreview:function(e){var t=this.teams[e].name+"-repo-"+this.teams[e].repos.length,n=(new Date).getUTCMilliseconds();this.teams[e].repos.some((function(e){return e.name===t}))&&(t=t+"-"+n),this.teams[e].repos.push({name:t})},createTeams:function(){var e=this;0!==this.teams.length?this.selectedOrg&&""!==this.selectedOrg&&""!==this.selectedOrg.trim()?(console.log("---Creating teams...---"),this.teams.forEach(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(n){var a,r,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.teamNamePrefix+n.name,t.next=3,H.createTeam(r,e.selectedOrg,null===(a=e.parentTeam)||void 0===a?void 0:a.id);case 3:s=t.sent,c=s.data,n.id=c.id,ae.apiSuccess(s,"Team: "+s.data.name+" angelegt!"),n.members.forEach(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H.updateTeamMembership(e.selectedOrg,c.slug,n,"member");case 2:a=t.sent,console.log("updateMembershipResponse: ",a),ae.apiSuccess(a,"Nutzer: "+n+" wurde in das Team: "+s.data.name+" eingeladen!");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.repos.forEach(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.teamNamePrefix+a.name,t.next=3,H.createRepo(e.selectedOrg,r,n.id);case 3:if(s=t.sent,ae.apiSuccess(s,"Repository: "+s.data.name+" wurde angelegt!"),console.log("Created repo: ",s.data),!(n.topics&&n.topics.length>0)){t.next=11;break}return t.next=9,H.replaceAllRepositoryTopics(e.selectedOrg,r,n.topics);case 9:c=t.sent,console.log("Topics hinzugefügt: ",c);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):ae.error("Keine Organisation angegeben"):ae.error("Es gibt keine Teams")},checkTeamNames:function(){var e=this;this.teams.forEach((function(t){var n=e.teamNamePrefix+t.name;H.getTeam(e.selectedOrg,n,!1).then((function(e){console.log("Team with the name:"+n+" was found! Response: ",e),t.isNameAvailable=!1})).catch((function(e){console.log("The name: "+n+" for a team is available! The (expected) Error:",e),t.isNameAvailable=!0}))})),this.updateRepoTopics()},updateRepoTopics:function(){var e=this;this.teams.forEach((function(t){var n=e.teamNamePrefix,a=n.split("-").filter((function(e){return""!=e.trim()}));t.topics=a,console.log("Team: "+t.name+" it's topics: ",t.topics)}))},deleteTopicInTeam:function(e,t){this.teams[t].topics.splice(e,1)},addTopicsToTeam:function(e){console.log("add topics to team: "+e+" string: "+this.teams[e].topicInput);var t=this.teams[e].topicInput;if(t.includes(",")){var n=t.split(",").filter((function(e){return""!=e.trim()})).map((function(e){return e.trim()})),a=this.teams[e].topics;n=n.filter((function(e){return a.indexOf(e)<0})),this.teams[e].topics=a.concat(n),this.teams[e].topicInput=""}}}});n("9f1c");Ft.render=Ht,Ft.__scopeId="data-v-827f3606";var Gt=Ft,Vt=[{path:"/",name:"Home",component:q},{path:"/login",name:"Login",component:se,meta:{hideNavigation:!0}},{path:"/onboarding",name:"Onboarding",component:et,props:!0},{path:"/createproject",name:"CreateProject",component:Gt,props:!0}],qt=Object(O["a"])({history:Object(O["b"])(),routes:Vt}),zt=qt;qt.beforeEach(function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=["/login"],s=!r.includes(t.path),"/login"==t.path&&sessionStorage.removeItem("patoken"),!s||sessionStorage.getItem("patoken")){e.next=7;break}return e.abrupt("return",a({name:"Login"}));case 7:a();case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}());n("7b17"),n("ab8b");var $t=n("2106"),Bt=n.n($t);function Dt(){M.a.interceptors.request.use(function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("patoken"),null!=n&&(t.headers.Authorization="token "+n),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return ae.apiError(e),Promise.reject(e.message)})),M.a.interceptors.response.use(null,(function(e){if(401===e.response.status&&zt.push({name:"Login"}),Object.prototype.hasOwnProperty.call(e.config,"handleError")&&!1===e.config.handleError&&401!=e.response.status)return Promise.reject(e);ae.apiError(e)}))}Dt(),Object(a["c"])(g).use(zt).use(Bt.a,M.a).mount("#app")},6355:function(e,t,n){"use strict";n("aa03")},"9f1c":function(e,t,n){"use strict";n("cd43")},aa03:function(e,t,n){},b7bc:function(e,t,n){"use strict";n("e985")},c92e:function(e,t,n){},cd43:function(e,t,n){},e985:function(e,t,n){},f262:function(e,t,n){"use strict";n("fdcb")},fdcb:function(e,t,n){}});
//# sourceMappingURL=app.8c5f4a5b.js.map